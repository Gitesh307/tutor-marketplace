{
  "query": "CREATE TABLE IF NOT EXISTS notification_preferences (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL UNIQUE,\n  emailEnabled BOOLEAN NOT NULL DEFAULT TRUE,\n  inAppEnabled BOOLEAN NOT NULL DEFAULT TRUE,\n  smsEnabled BOOLEAN NOT NULL DEFAULT FALSE,\n  timing24h BOOLEAN NOT NULL DEFAULT TRUE,\n  timing1h BOOLEAN NOT NULL DEFAULT FALSE,\n  timing15min BOOLEAN NOT NULL DEFAULT FALSE,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE,\n  INDEX notification_preferences_userId_idx (userId)\n);\n\nCREATE TABLE IF NOT EXISTS notification_logs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  sessionId INT NOT NULL,\n  channel VARCHAR(20) NOT NULL,\n  timing VARCHAR(20) NOT NULL,\n  status VARCHAR(20) NOT NULL,\n  message TEXT,\n  sentAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  readAt TIMESTAMP NULL,\n  FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE,\n  FOREIGN KEY (sessionId) REFERENCES sessions(id) ON DELETE CASCADE,\n  INDEX notification_logs_userId_idx (userId),\n  INDEX notification_logs_sessionId_idx (sessionId)\n);\n\nCREATE TABLE IF NOT EXISTS in_app_notifications (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  title VARCHAR(255) NOT NULL,\n  message TEXT NOT NULL,\n  type VARCHAR(50) NOT NULL,\n  relatedId INT NULL,\n  isRead BOOLEAN NOT NULL DEFAULT FALSE,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  readAt TIMESTAMP NULL,\n  FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE,\n  INDEX in_app_notifications_userId_idx (userId),\n  INDEX in_app_notifications_isRead_idx (isRead)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3WQULgVDBb1t2sq.root --database jiuvaqiRLMtCC23XtAnX7G --execute CREATE TABLE IF NOT EXISTS notification_preferences (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL UNIQUE,\n  emailEnabled BOOLEAN NOT NULL DEFAULT TRUE,\n  inAppEnabled BOOLEAN NOT NULL DEFAULT TRUE,\n  smsEnabled BOOLEAN NOT NULL DEFAULT FALSE,\n  timing24h BOOLEAN NOT NULL DEFAULT TRUE,\n  timing1h BOOLEAN NOT NULL DEFAULT FALSE,\n  timing15min BOOLEAN NOT NULL DEFAULT FALSE,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE,\n  INDEX notification_preferences_userId_idx (userId)\n);\n\nCREATE TABLE IF NOT EXISTS notification_logs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  sessionId INT NOT NULL,\n  channel VARCHAR(20) NOT NULL,\n  timing VARCHAR(20) NOT NULL,\n  status VARCHAR(20) NOT NULL,\n  message TEXT,\n  sentAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  readAt TIMESTAMP NULL,\n  FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE,\n  FOREIGN KEY (sessionId) REFERENCES sessions(id) ON DELETE CASCADE,\n  INDEX notification_logs_userId_idx (userId),\n  INDEX notification_logs_sessionId_idx (sessionId)\n);\n\nCREATE TABLE IF NOT EXISTS in_app_notifications (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  title VARCHAR(255) NOT NULL,\n  message TEXT NOT NULL,\n  type VARCHAR(50) NOT NULL,\n  relatedId INT NULL,\n  isRead BOOLEAN NOT NULL DEFAULT FALSE,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  readAt TIMESTAMP NULL,\n  FOREIGN KEY (userId) REFERENCES users(id) ON DELETE CASCADE,\n  INDEX in_app_notifications_userId_idx (userId),\n  INDEX in_app_notifications_isRead_idx (isRead)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 832
}